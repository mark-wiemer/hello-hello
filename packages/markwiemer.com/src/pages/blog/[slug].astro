---
import Layout from "@/layouts/Layout.astro";
import { getBlogPostPaths, getPreface } from "@/utils/recent-posts";

/**
 * Magic function used by Astro.
 * https://docs.astro.build/en/guides/routing/#dynamic-routes
 */
export const getStaticPaths = getBlogPostPaths;

const { module } = Astro.props;
let { default: Content, frontmatter } = module;
frontmatter ??= {};
/* todo handle "orginally posted on Medium.com" stuff */
const { postTitle, postDate, postTime, lastUpdated, postType } = frontmatter;
---

<Layout pageTitle={postTitle}>
  <h1>{postTitle}</h1>
  <p>{getPreface(postDate, postTime, lastUpdated, postType)}</p>
  <Content />
</Layout>
